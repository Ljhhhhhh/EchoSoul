# EchoSoul MVP 版本 - 产品规格文档

## 产品定位

**"每天了解真实的自己"**

EchoSoul 是一个基于聊天记录的自动化分析工具，专注于为用户提供核心价值：**生成个人聊天行为分析报告**。
通过分析用户的日常聊天记录，帮助用户了解自己的沟通模式、情绪状态和社交行为。

## MVP 核心价值

### 唯一核心功能：聊天记录分析报告

- **每日自动报告**：每天凌晨自动分析前一天的聊天记录，生成个人洞察报告
- **自定义报告**：用户可以指定时间范围、聊天对象来生成专门报告
- 基于真实聊天数据，比传统心理测试更准确客观

### 支撑功能（最小化）

- **报告管理**：查看历史报告，简单的列表和详情展示
- **环境配置**：连接 chatlog 服务，获取聊天数据
- **基础设置**：AI 服务配置，报告生成偏好设置

### 后续版本功能（暂不开发）

- ❌ 智能问答系统（V1.1 版本考虑）
- ❌ 复杂的数据可视化（V1.2 版本考虑）
- ❌ 社交网络分析（V2.0 版本考虑）

## 目标用户

**主要用户群体：自我探索型用户（25-35 岁）**

- 对自我认知有强烈需求
- 愿意尝试新的自我发现方式
- 重视隐私和数据安全
- 有一定的数字产品使用经验

## 功能设计

### 1. 自动化报告生成（核心功能）

#### 每日自动报告

```yaml
功能描述:
  - 每天凌晨2点自动启动分析任务
  - 通过chatlog API获取前一天的聊天记录
  - 生成个人聊天行为分析报告
  - 用户醒来即可查看昨日分析结果

报告内容:
  基础数据:
    - 消息总数、发送/接收比例
    - 活跃时间段分布
    - 主要联系人排行

  情绪分析:
    - 积极/消极情绪比例
    - 情绪变化趋势
    - 压力指标评估

  话题分析:
    - 高频关键词统计
    - 主要讨论话题分类
    - 兴趣变化趋势

  社交洞察:
    - 群聊/私聊活跃度
    - 互动深度分析
    - 关系维护情况

  性格分析:
    - 表达风格分析
    - 互动模式评估
    - 话题偏好识别
```

#### 自定义报告生成

```yaml
功能描述:
  - 用户可选择任意时间范围（昨天、上周、上月、自定义）
  - 可指定特定聊天对象（某个朋友、某个群聊）
  - 可选择分析维度（情绪、话题、关系等）

表单配置示例:
  场景1 - 分析特定联系人:
    时间范围: '最近一个月'
    分析对象: '张三'
    分析维度: ['沟通风格', '话题分析', '互动频率']

  场景2 - 群聊表现分析:
    时间范围: '最近两周'
    分析对象: '工作群'
    分析维度: ['参与度', '话题贡献', '互动模式']

  场景3 - 情绪状态分析:
    时间范围: '最近一周'
    分析对象: '全部聊天'
    分析维度: ['情绪状态', '压力指标']

  场景4 - 对比分析:
    时间范围: '最近一个月'
    分析对象: ['张三', '李四', '王五']
    分析维度: ['沟通风格', '话题偏好']
```

### 2. 报告管理（支撑功能）

#### 报告查看和管理

- 每日报告自动存储和展示
- 历史报告列表和搜索
- 报告详情查看
- 简单的报告导出功能

#### 报告内容展示

```yaml
报告结构:
  标题: '2024年7月1日 聊天分析报告'

  概览卡片:
    - 消息总数: 45条
    - 主要联系人: 张三、李四、工作群
    - 情绪状态: 积极 (78%)
    - 活跃时段: 19:00-22:00

  详细分析:
    - 情绪分析摘要
    - 话题关键词
    - 联系人互动统计
    - 时间分布概览
```

## 用户流程设计

### 修正后的用户流程（5 步）

```
第1步：环境设置 (2-3分钟)
├── 检测chatlog服务状态
├── 安装/启动chatlog服务
├── 验证API连接
└── 获取数据概览

第2步：AI配置 (1-2分钟)
├── 选择AI服务提供商
├── 输入API Key
├── 测试连接和模型可用性
└── 设置使用偏好和限额

第3步：初始化分析 (1-2分钟)
├── 生成首份分析报告（最近7天）
├── 设置自动化任务
└── 验证报告生成功能

第4步：查看首份报告 (立即可用)
├── 展示分析结果
├── 解读报告内容
└── 设置每日自动报告

第5步：日常使用
├── 每天查看自动生成的日报
├── 按需生成自定义报告
└── 管理和导出历史报告
```

### 时间目标

- **总体完成时间**：5 分钟内
- **环境配置**：3 分钟内（包括 chatlog 安装）
- **首次报告生成**：2 分钟内
- **日常使用**：每天 1 分钟查看报告

## 界面设计

### 主界面：报告中心

```
┌─────────────────────────────────────┐
│  📊 EchoSoul 分析报告               │
│                                     │
│  🌅 今日报告 (2024-07-02)          │
│  ┌─────────────────────────────────┐ │
│  │ 📱 昨日聊天: 45条消息           │ │
│  │ 😊 情绪状态: 积极 (78%)         │ │
│  │ 💬 主要话题: 工作讨论、生活分享  │ │
│  │ 👥 活跃联系人: 张三、工作群      │ │
│  └─────────────────────────────────┘ │
│                                     │
│  📈 历史报告                        │
│  • 2024-07-01 - 周末轻松模式        │
│  • 2024-06-30 - 工作日忙碌状态      │
│                                     │
│  [查看详细报告] [生成自定义报告]     │
└─────────────────────────────────────┘
```

### 自定义报告生成

```
┌─────────────────────────────────────┐
│  🎯 生成自定义报告                  │
│                                     │
│  📅 时间范围:                       │
│  ● 最近7天   ○ 最近30天            │
│  ○ 自定义: [选择日期范围]           │
│                                     │
│  👥 分析对象:                       │
│  ● 全部聊天  ○ 指定联系人          │
│  ○ 指定群聊  ○ 工作相关聊天        │
│                                     │
│  📊 分析维度:                       │
│  ☑️ 情绪状态  ☑️ 话题分析           │
│  ☑️ 社交模式  ☑️ 沟通风格           │
│                                     │
│     [生成报告]                     │
└─────────────────────────────────────┘
```

## 技术架构

### 数据获取流程

```yaml
自动化流程: 1. 定时任务每天凌晨2点启动
  2. 调用chatlog API获取前一天数据
  3. 进行多维度分析处理
  4. 生成结构化报告
  5. 存储到本地数据库
  6. 推送通知用户查看

手动报告流程: 1. 用户选择时间范围和对象
  2. 实时调用chatlog API获取数据
  3. 根据用户选择的维度进行分析
  4. 生成定制化报告
  5. 展示结果并支持导出
```

### 3. 基础性格分析（支撑功能）

#### 分析维度（最小化）

只保留 3 个核心维度：

- **人格特质**：温和/直接、简洁/详细
- **互动模式**：主动/被动、倾听/表达
- **话题偏好**：生活/工作、轻松/严肃

#### 分析结果（简化）

```
示例输出：
👤 你的聊天风格：温和的沟通者
• 表达温和 (85%) - 你很少使用强烈的词汇
• 善于倾听 (78%) - 你经常回应别人的话题
• 话题丰富 (72%) - 你涉及的话题比较广泛
```

## 用户流程设计

### 完整用户旅程（4 步）

```
第1步：环境安装引导 (2-3分钟)
├── 系统检测
├── 权限设置（macOS需要关闭SIP）
└── 微信数据定位

第2步：数据导入 (30秒)
├── 选择分析范围
└── 一键导入

第3步：快速分析 (1-2分钟)
├── 基础性格分析
└── 生成问答知识库

第4步：开始问答 (立即可用)
├── 查看基础分析结果
└── 开始智能问答
```

### 时间目标

- **总体完成时间**：5 分钟内
- **环境安装**：3 分钟内（包括 macOS SIP 设置）
- **数据处理**：2 分钟内
- **首次问答**：立即可用

## 界面设计原则

### 极简设计

- 每个界面只有一个主要操作
- 减少视觉装饰，专注功能实现
- 使用简单的文字说明，避免复杂图标

### 进度可视化

- 每个步骤都有清晰的进度条
- 实时显示当前状态和下一步操作
- 错误时提供具体的解决建议

### 温暖的产品语言

- 用日常语言而非技术术语
- 积极正面的表达方式
- 体现陪伴和理解的产品调性

## 技术架构（简化）

### 技术选型原则

- **简单优先**：选择最简单可行的技术方案
- **本地优先**：95%功能本地处理
- **快速迭代**：支持快速开发和部署
- **成本控制**：最小化外部依赖和 API 费用

### 核心技术栈

- **桌面框架**：Electron（跨平台）
- **前端**：React + TypeScript（简化版）
- **AI 处理**：LangChain.js + 多 LLM Provider 支持
- **数据处理**：基于 chatlog API + SQLite
- **界面**：tailwind css，精致高级且专注功能实现

### AI 服务架构

```yaml
LangChain集成:
  支持的LLM Provider:
    - OpenAI (GPT-3.5/GPT-4)
    - Anthropic (Claude)
    - Google (Gemini)
    - OpenRouter (多模型聚合)
    - DeepSeek (国产模型)

  用户配置:
    - 用户自带API Key
    - 可选择使用的模型
    - 本地安全存储API Key
    - 支持模型切换和备选方案

  成本控制:
    - 智能选择最适合的模型
    - 批量处理减少API调用
    - 本地缓存分析结果
    - 用户可设置使用限额
```

### API Key 管理

```yaml
安全存储:
  - 使用系统keychain存储API Key
  - 本地加密，不上传到任何服务器
  - 支持多个Provider的Key管理

用户配置界面:
  - 简单的设置页面
  - 测试API Key有效性
  - 显示当前使用的模型和费用预估
  - 提供使用量统计
```

## 成本控制策略

### 开发成本控制

- **功能最小化**：只开发核心功能
- **技术简化**：避免过度工程化
- **复用现有**：最大化利用 chatlog 库的能力
- **快速验证**：优先验证核心价值假设

### 运营成本控制

- **本地处理**：95%功能本地运行，减少服务器成本
- **智能采样**：只处理关键数据，减少计算量
- **缓存机制**：避免重复处理，节省资源
- **用户自助**：完善的引导和帮助，减少客服成本

## MVP 成功标准

### 核心指标

- **环境配置成功率** > 90%
- **首次报告生成成功率** > 85%
- **每日报告自动生成稳定性** > 95%
- **报告查看率** > 80%（用户每天查看报告的比例）
- **用户满意度** > 4.0 分（5 分制）

### 验证目标

- **价值验证**：用户认为每日报告有价值，愿意持续查看
- **技术验证**：chatlog API 集成稳定可靠，报告生成准确
- **体验验证**：用户能够轻松查看和理解报告内容
- **自动化验证**：定时任务能够稳定运行，无需人工干预

## 后续迭代计划

### V1.1 版本（功能增强）

- 增加更多问答模板和场景
- 优化分析准确性和回答质量
- 添加简单的数据导出功能
- 改进错误处理和用户反馈

### V1.2 版本（体验优化）

- 添加数据可视化图表
- 增加趋势分析和对比功能
- 优化界面设计和交互体验
- 添加智能提醒和建议功能

### V2.0 版本（完整产品）

- 恢复完整的智能问答系统
- 添加深度个性化分析
- 增加社交网络分析功能
- 开发移动端应用

---

**MVP 版本的核心目标：建立稳定的每日自动报告生成机制，让用户每天都能获得关于自己聊天行为的有价值洞察。**

_最后更新：2025-07-02_
