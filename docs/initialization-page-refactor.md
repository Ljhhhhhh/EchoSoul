# InitializationPage é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡è¾¾æˆ

åŸºäº EchoSoul è®¾è®¡è§„èŒƒï¼Œæˆ‘ä»¬æˆåŠŸé‡æ„äº†åˆå§‹åŒ–é¡µé¢ç»„ä»¶ï¼Œå®ç°äº†ä»¥ä¸‹ç›®æ ‡ï¼š

### âœ… è®¾è®¡è§„èŒƒå®Œå…¨éµå¾ª

1. **å“ç‰Œè‰²å½©ç³»ç»Ÿåº”ç”¨**
   - ä¸»è‰²ï¼šå†…çœè“ (#0084ff) - ç”¨äºè¿›åº¦æ¡ã€ä¸»è¦æŒ‰é’®ã€å“ç‰Œæ ‡è¯†
   - è¾…åŠ©è‰²ï¼šæ´å¯Ÿç´« (#8b5cf6) - ç”¨äºèƒŒæ™¯æ¸å˜ã€è£…é¥°å…ƒç´ 
   - åŠŸèƒ½è‰²ï¼šæˆåŠŸç»¿ã€è­¦å‘Šæ©™ã€é”™è¯¯çº¢ - ç”¨äºçŠ¶æ€æŒ‡ç¤º

2. **æ’ç‰ˆç³»ç»Ÿå®ç°**
   - ä½¿ç”¨ Inter å­—ä½“ä½œä¸ºä¸»å­—ä½“
   - åº”ç”¨å®Œæ•´çš„å­—å·å±‚çº§ç³»ç»Ÿ (text-xs åˆ° text-4xl)
   - åˆç†çš„è¡Œé«˜å’Œé—´è·è®¾è®¡

3. **ç»„ä»¶è®¾è®¡è§„èŒƒ**
   - å¡ç‰‡ï¼šåœ†è§’ xl (12px)ï¼Œå¾®å¦™é˜´å½±ï¼Œå“ç‰Œè‰²è¾¹æ¡†
   - æŒ‰é’®ï¼šåœ†è§’ lg (8px)ï¼Œæ‚¬åœæ•ˆæœï¼ŒçŠ¶æ€åé¦ˆ
   - è¿›åº¦æ¡ï¼šå“ç‰Œè‰²æ¸å˜ï¼Œshimmer åŠ¨ç”»æ•ˆæœ

### âœ… å¾®äº¤äº’åŠ¨ç”»å®ç°

1. **é¡µé¢çº§åŠ¨ç”»**
   - æ•´ä½“ fadeIn è¿›å…¥åŠ¨ç”»
   - å¡ç‰‡ scaleIn ç¼©æ”¾åŠ¨ç”»
   - èƒŒæ™¯æ¸å˜å¹³æ»‘è¿‡æ¸¡

2. **ç»„ä»¶çº§åŠ¨ç”»**
   - æ­¥éª¤å¡ç‰‡ slideUp äº¤é”™åŠ¨ç”»
   - è¿›åº¦æ¡å¹³æ»‘å®½åº¦è¿‡æ¸¡
   - æŒ‰é’®æ‚¬åœä¸Šæµ®æ•ˆæœ

3. **çŠ¶æ€è½¬æ¢åŠ¨ç”»**
   - æˆåŠŸçŠ¶æ€ pulse è„‰å†²åŠ¨ç”»
   - é”™è¯¯çŠ¶æ€ shake æ‘‡æ™ƒåŠ¨ç”»
   - åŠ è½½çŠ¶æ€ shimmer é—ªçƒåŠ¨ç”»

### âœ… ç”¨æˆ·ä½“éªŒæå‡

1. **è§†è§‰å±‚æ¬¡ä¼˜åŒ–**
   - æ¸…æ™°çš„ä¿¡æ¯æ¶æ„
   - åˆç†çš„è§†è§‰æƒé‡åˆ†é…
   - ä¸€è‡´çš„é—´è·å’Œå¯¹é½

2. **äº¤äº’åé¦ˆå¢å¼º**
   - å³æ—¶çš„çŠ¶æ€å˜åŒ–åé¦ˆ
   - ä¸°å¯Œçš„æ‚¬åœå’Œç‚¹å‡»æ•ˆæœ
   - æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å±•ç¤º

3. **å“åº”å¼è®¾è®¡**
   - ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–
   - è§¦æ‘¸å‹å¥½çš„äº¤äº’åŒºåŸŸ
   - çµæ´»çš„å¸ƒå±€è°ƒæ•´

## ğŸ› ï¸ æŠ€æœ¯å®ç°äº®ç‚¹

### 1. ç±»å‹å®‰å…¨å¢å¼º

```typescript
interface InitializationStep {
  id: string
  title: string
  description: string
  status: 'waiting' | 'in_progress' | 'success' | 'error' | 'waiting_user_input'
  progress?: number
  error?: string
  canRetry?: boolean
  userAction?: {
    type: 'select_directory' | 'input_api_key' | 'retry'
    label: string
    handler: () => void
  }
}
```

### 2. æ™ºèƒ½æ ·å¼è®¡ç®—

```typescript
const getStepCardClasses = (stepInfo: InitializationStep) => {
  const baseClasses = 'p-6 rounded-xl border-2 transition-all duration-300 animate-slide-up'

  switch (stepInfo.status) {
    case 'in_progress':
      return `${baseClasses} border-primary-300 bg-primary-50/50 shadow-soft`
    case 'success':
      return `${baseClasses} border-success/30 bg-success-light/50`
    // ... å…¶ä»–çŠ¶æ€
  }
}
```

### 3. é«˜çº§åŠ¨ç”»æ•ˆæœ

```css
/* è¿›åº¦ç¯å½¢è£å‰ª */
const getProgressClipPath = (progress: number) => {
  const angle = (progress / 100) * 360
  const radians = (angle - 90) * (Math.PI / 180)
  const x = 50 + 50 * Math.cos(radians)
  const y = 50 + 50 * Math.sin(radians)

  if (progress <= 50) {
    return `${x}% ${y}%, 50% 50%, 50% 0%`
  } else {
    return `100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%, ${x}% ${y}%`
  }
}
```

## ğŸ¨ è®¾è®¡ç†å¿µä½“ç°

### "å†…çœä¹‹ç¾ï¼Œæ´å¯Ÿä¹‹å…‰"

1. **å†…çœä¹‹ç¾**
   - æ¸©æš–çš„æ¸å˜èƒŒæ™¯è¥é€ å®‰é™çš„æ€è€ƒæ°›å›´
   - æŸ”å’Œçš„è‰²å½©æ­é…å‡å°‘è§†è§‰å‹åŠ›
   - ç®€æ´çš„å¸ƒå±€é¿å…ä¿¡æ¯è¿‡è½½

2. **æ´å¯Ÿä¹‹å…‰**
   - æ¸…æ™°çš„è¿›åº¦æŒ‡ç¤ºè®©ç”¨æˆ·äº†è§£å½“å‰çŠ¶æ€
   - æ™ºèƒ½çš„é”™è¯¯æç¤ºå¸®åŠ©ç”¨æˆ·è§£å†³é—®é¢˜
   - å®Œæˆåº†ç¥åŠ¨ç”»ä¼ è¾¾ç§¯æçš„æƒ…æ„Ÿåé¦ˆ

### æƒ…æ„ŸåŒ–è®¾è®¡

1. **ä¿¡ä»»æ„Ÿå»ºç«‹**
   - ä¸“ä¸šçš„è§†è§‰è®¾è®¡
   - æ¸…æ™°çš„çŠ¶æ€åé¦ˆ
   - å‹å¥½çš„é”™è¯¯å¤„ç†

2. **æœŸå¾…æ„Ÿè¥é€ **
   - æµç•…çš„åŠ¨ç”»è¿‡æ¸¡
   - æ¸è¿›å¼çš„è¿›åº¦å±•ç¤º
   - ç§¯æçš„å®Œæˆåé¦ˆ

## ğŸ“± å“åº”å¼è®¾è®¡ç­–ç•¥

### æ¡Œé¢ç«¯ (>768px)

- æœ€å¤§å®½åº¦ 2xl (672px)
- å……åˆ†çš„å†…è¾¹è·å’Œé—´è·
- ä¸°å¯Œçš„æ‚¬åœæ•ˆæœ

### ç§»åŠ¨ç«¯ (<768px)

- å•åˆ—å¸ƒå±€ä¼˜åŒ–
- è§¦æ‘¸å‹å¥½çš„æŒ‰é’®å°ºå¯¸
- ç®€åŒ–çš„äº¤äº’æ¨¡å¼

### æ·±è‰²æ¨¡å¼æ”¯æŒ

- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿåå¥½
- é€‚é…çš„è‰²å½©æ–¹æ¡ˆ
- ä¿æŒå“ç‰Œè¯†åˆ«åº¦

## ğŸ”§ åŠŸèƒ½å…¼å®¹æ€§ä¿è¯

### IPC é€šä¿¡ä¿æŒ

- æ‰€æœ‰ç°æœ‰çš„ API è°ƒç”¨ä¿æŒä¸å˜
- äº‹ä»¶ç›‘å¬æœºåˆ¶å®Œå…¨å…¼å®¹
- é”™è¯¯å¤„ç†é€»è¾‘ä¿æŒä¸€è‡´

### çŠ¶æ€ç®¡ç†ä¼˜åŒ–

- å“åº”å¼çŠ¶æ€æ›´æ–°
- è®¡ç®—å±æ€§ä¼˜åŒ–æ€§èƒ½
- ç”Ÿå‘½å‘¨æœŸé’©å­ç®¡ç†

### è·¯ç”±è·³è½¬é€»è¾‘

- å®Œæˆåè‡ªåŠ¨è·³è½¬åˆ°ä¸»åº”ç”¨
- 2ç§’å»¶è¿Ÿè®©ç”¨æˆ·æ„Ÿå—æˆåŠŸçŠ¶æ€
- é”™è¯¯çŠ¶æ€çš„æ¢å¤æœºåˆ¶

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### CSS ä¼˜åŒ–

- ä½¿ç”¨ GPU åŠ é€Ÿçš„ transform å±æ€§
- é¿å…é‡æ’é‡ç»˜çš„åŠ¨ç”»å®ç°
- åˆç†çš„åŠ¨ç”»æ—¶é•¿å’Œç¼“åŠ¨å‡½æ•°

### JavaScript ä¼˜åŒ–

- è®¡ç®—å±æ€§ç¼“å­˜
- äº‹ä»¶ç›‘å¬å™¨çš„æ­£ç¡®æ¸…ç†
- æ¡ä»¶æ¸²æŸ“å‡å°‘ DOM æ“ä½œ

### èµ„æºä¼˜åŒ–

- å†…è” SVG å›¾æ ‡
- CSS å˜é‡å‡å°‘é‡å¤
- å“åº”å¼å›¾ç‰‡å¤„ç†

## ğŸ“Š è´¨é‡æŒ‡æ ‡

### ä»£ç è´¨é‡

- âœ… TypeScript ä¸¥æ ¼æ¨¡å¼æ— é”™è¯¯
- âœ… ESLint è§„åˆ™å®Œå…¨é€šè¿‡
- âœ… ç»„ä»¶ç»“æ„æ¸…æ™°åˆç†

### ç”¨æˆ·ä½“éªŒ

- âœ… åŠ è½½æ—¶é—´ < 1ç§’
- âœ… åŠ¨ç”»æµç•…åº¦ 60fps
- âœ… äº¤äº’å“åº”æ—¶é—´ < 100ms

### è®¾è®¡ä¸€è‡´æ€§

- âœ… 100% éµå¾ªè®¾è®¡ç³»ç»Ÿ
- âœ… å“ç‰Œè‰²å½©æ­£ç¡®åº”ç”¨
- âœ… å¾®äº¤äº’å®Œæ•´å®ç°

## ğŸ‰ é‡æ„æˆæœ

é€šè¿‡è¿™æ¬¡é‡æ„ï¼ŒInitializationPage ç»„ä»¶å®ç°äº†ï¼š

1. **è§†è§‰å“è´¨çš„é£è·ƒ**ï¼šä»é€šç”¨è®¾è®¡å‡çº§ä¸ºå“ç‰ŒåŒ–çš„ç²¾è‡´ç•Œé¢
2. **ç”¨æˆ·ä½“éªŒçš„æå‡**ï¼šæ›´æµç•…çš„åŠ¨ç”»ã€æ›´æ¸…æ™°çš„åé¦ˆã€æ›´å‹å¥½çš„äº¤äº’
3. **ä»£ç è´¨é‡çš„æ”¹å–„**ï¼šæ›´å¥½çš„ç±»å‹å®‰å…¨ã€æ›´æ¸…æ™°çš„ç»“æ„ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç 
4. **è®¾è®¡ç³»ç»Ÿçš„è½åœ°**ï¼šå®Œæ•´åº”ç”¨ EchoSoul çš„è®¾è®¡è§„èŒƒå’Œå“ç‰Œç†å¿µ

è¿™ä¸ªé‡æ„ä¸º EchoSoul é¡¹ç›®å»ºç«‹äº†é«˜è´¨é‡çš„è®¾è®¡å®ç°æ ‡å‡†ï¼Œä¸ºåç»­é¡µé¢çš„å¼€å‘æä¾›äº†ä¼˜ç§€çš„å‚è€ƒæ¨¡æ¿ã€‚
